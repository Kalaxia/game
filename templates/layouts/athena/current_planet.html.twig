{% extends 'layouts/game.html.twig' %}

{% block left_sidebar %}
	<twig:Sidebar>
		<twig:SidebarItem route="base_overview" :isActive="app.request.get('_route') == 'base_overview'" picto="build/media/orbitalbase/situation.png" label="Vue de situation" />
		{% if current_planet.levelGenerator > 0 %}
			<twig:SidebarItem
				route="generator"
				:isActive="app.request.get('_route') == 'generator'"
				picto="build/media/orbitalbase/generator.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::GENERATOR'), 'frenchName')"
				:badgeNumber="current_planet.levelGenerator"/>
		{% endif %}
		{% if current_planet.levelDock1 > 0 %}
			<twig:SidebarItem
				route="docks"
				:params="{ dockType: constant('App\\Modules\\Galaxy\\Domain\\Entity\\Planet::DOCK_TYPE_MANUFACTURE')}"
				:isActive="app.request.get('_route') == 'dock1'"
				picto="build/media/orbitalbase/dock1.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::DOCK1'), 'frenchName') "
				:badgeNumber="current_planet.levelDock1" />
		{% endif %}

		{% if current_planet.levelDock2 > 0 %}
			<twig:SidebarItem
				route="docks"
				:params="{dockType: constant('App\\Modules\\Galaxy\\Domain\\Entity\\Planet::DOCK_TYPE_SHIPYARD')}"
				:isActive="app.request.get('_route') == 'dock2'"
				picto="build/media/orbitalbase/dock2.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::DOCK2'), 'frenchName')"
				:badgeNumber="current_planet.levelDock2" />
		{% endif %}

		{% if current_planet.levelTechnosphere > 0 %}
			<twig:SidebarItem
				route="technosphere"
				:isActive="app.request.get('_route') == 'technosphere'"
				picto="build/media/orbitalbase/technosphere.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::TECHNOSPHERE'), 'frenchName')"
				:badgeNumber="current_planet.levelTechnosphere" />
		{% endif %}

		{% if current_planet.levelCommercialPlateforme > 0 %}
			<twig:SidebarItem
				route="trade_market"
				:isActive="app.request.get('_route') == 'trade_market'"
				picto="build/media/orbitalbase/commercialplateforme.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::COMMERCIAL_PLATEFORME'), 'frenchName')"
				:badgeNumber="current_planet.levelCommercialPlateforme" />
		{% endif %}

		{% if current_planet.levelSpatioport > 0 %}
			<twig:SidebarItem
				route="spatioport"
				:isActive="app.request.get('_route') == 'spatioport'"
				picto="build/media/orbitalbase/spatioport.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::SPATIOPORT'), 'frenchName')"
				:badgeNumber="current_planet.levelSpatioport" />
		{% endif %}

		{% if current_planet.levelRecycling > 0 %}
			<twig:SidebarItem
				route="recycling"
				:isActive="app.request.get('_route') == 'recycling'"
				picto="build/media/orbitalbase/recycling.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::RECYCLING'), 'frenchName')"
				:badgeNumber="current_planet.levelRecycling" />
		{% endif %}

		{% if current_planet.levelRefinery > 0 %}
			<twig:SidebarItem
				route="refinery"
				:isActive="app.request.get('_route') == 'refinery'"
				picto="build/media/orbitalbase/refinery.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::REFINERY'), 'frenchName')"
				:badgeNumber="current_planet.levelRefinery" />
		{% endif %}

		{% if current_planet.levelStorage > 0 %}
			<twig:SidebarItem
				route="storage"
				:isActive="app.request.get('_route') == 'storage'"
				picto="build/media/orbitalbase/storage.png"
				:label="get_building_info(constant('App\\Modules\\Galaxy\\Resource\\PlanetResource::STORAGE'), 'frenchName')"
				:badgeNumber="current_planet.levelStorage" />
		{% endif %}

		<twig:SidebarItem
			route="school"
			:isActive="app.request.get('_route') == 'school'"
			picto="build/media/orbitalbase/school.png"
			label="Ecole de Commandement" />
	</twig:Sidebar>
{% endblock left_sidebar %}

{% block body %}
	<twig:ContentContainer>
		{{ block(outerBlocks.content) }}
	</twig:ContentContainer>
{% endblock body %}
