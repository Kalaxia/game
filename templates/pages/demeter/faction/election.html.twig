{% extends 'layouts/demeter/faction.html.twig' %}

{% block content %}
	{% if faction.isInCampaign %}
		{{ include('components/faction/election/campaign.html.twig') }}
		{{ include('components/faction/election/list.html.twig') }}

		{% if app.request.query.get('action') == 'postulate' %}
			{{ include('components/faction/election/postulate.html.twig') }}
		{% elseif candidate is defined %}
			{{ include('components/faction/election/candidate.html.twig') }}
		{% else %}
			{{ include('molecules/common/default.html.twig') }}
		{% endif %}
	{% elseif faction.isInElection %}
		{% if faction.isDemocratic %}
			{{ include('components/faction/election/election.html.twig') }}
			{{ include('components/faction/election/list.html.twig') }}

			{% if candidate is not null %}
				{{ include('components/faction/election/candidate.html.twig') }}
				{% if topic is defined %}
					{# {{ include('components/faction/forum/topic.html.twig') }} #}
				{% endif %}
			{% else %}
				{{ include('molecules/common/default.html.twig') }}
			{% endif %}
		{% elseif faction.isRoyalistic %}
			{{ include('components/faction/election/putsch.html.twig') }}
			{{ include('components/faction/election/candidate.html.twig') }}
		{% else %}
			{{ include('molecules/common/default.html.twig') }}
		{% endif %}
	{% endif %}
{% endblock %}
